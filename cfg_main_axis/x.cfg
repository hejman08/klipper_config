[gcode_macro stepper_x]
variable_position_endstop: 0.0
gcode:
  M118 Macro > Stepper X > OK

[stepper_x]
step_pin: xy:PC6
dir_pin: !xy:PC7
enable_pin: !xy:PB15
step_distance: 0.00498118
endstop_pin: ^!xy:PC2
position_endstop: 0
position_max: 450
homing_speed: 30
second_homing_speed: 10

[tmc5160 stepper_x]
cs_pin: xy:PB6
spi_software_sclk_pin: xy:PC12
spi_software_mosi_pin: xy:PC11
spi_software_miso_pin: xy:PC10
microsteps: 16
interpolate: True
run_current: 0.9
stealthchop_threshold: 150